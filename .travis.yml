# Use Trusty for a C++11 compiler, for our native dependencies:
# https://docs.travis-ci.com/user/languages/javascript-with-nodejs/#Node.js-v4-(or-io.js-v3)-compiler-requirements
dist: trusty
# Containers for faster startup, also we don't need sudo.
sudo: false

language: node_js
node_js: 6.9.1

cache: yarn

# Don’t build pushes to branches other than our deploy branch. (This doesn’t affect PR builds, which
# are separate from branch builds in Travis. If we didn’t have this config, Travis would run both
# types of builds for PRs, consuming our concurrent builds.)
branches:
  only:
    - master

# Bash noop.
script: ':'

deploy:
  - provider: script
    # Prevent Travis from resetting the files we've built and staged.
    skip_cleanup: true
    # This script is unique to this project.
    script: yarn upload
    on:
      all_branches: true

notifications:
  slack:
    secure: v5yzEtFLSp1oLGhCuUv9Sab4ltcZeQuGcTfoOIgVnOMn8dPTvEAzPTbbmoZcpOA0ZYhGN4FIB0ov6aq/VDrp4pRxghseNII5HYrIpR06nQiY9qtWJYvtlwWbPymwpcJev3FJqj45ceceSXTGnKqWiNRS4y/38xVL9DnkwM8rlImO0Y7NJGBO0L18vAIJ5rUXu3q30bpaFgbie5zG//8f4d8AhTBe5gjxlNoN5MUCS9fd7wvnwYmYY0dugxHANQTbp5SowOpb0Nz+HOm35w9w/kMKMrtoNGWDk+lid5Aq/3FF4jE8yMNhElVwbPy4JpW1EIQ6sqDNfFKhzCcBojDbSOvRyHk3AcNVTKTa/YcI50qSu72GbIc8AjfwyqMtA8ApWzGRD9/j6L9Rhas1FI9Ej0hl1uQw5JJ1DuOBqIlSaeiNp72svOgb2yFOmGE2q3TZe0l/598NyI4Oh91+XQvNZ9xb5IKdXg36HogHzXKPsy3RerQGft2+yZJvXW5W6xIJUf4ppCv4Q0au80vQTrikVZRXaat6yo5ffrKNhmzwYECInrc7rJGqA+N2lU50xp5y3a8IeRZS99X1rEBaSc5ZZUunStYpCdqotXLCTdV4A3nDEihHBofwIxajZh6CgiXCvahlvKA5IeZZ5qowUbGZ9bBCSgWoz7YzS27Q36QH8HI=
